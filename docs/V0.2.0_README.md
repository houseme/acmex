# ğŸ‰ AcmeX v0.2.0 - HTTP-01/DNS-01 æŒ‘æˆ˜æ”¯æŒ

## é¡¹ç›®ç°çŠ¶

**ç‰ˆæœ¬**: v0.2.0  
**çŠ¶æ€**: âœ… **ç”Ÿäº§å°±ç»ª**  
**å®Œæˆæ—¥æœŸ**: 2026-02-07

---

## âš¡ å¿«é€Ÿå¼€å§‹

### HTTP-01 éªŒè¯

```rust
use acmex::{Http01Solver, ChallengeSolver};

#[tokio::main]
async fn main() -> Result<()> {
    let mut solver = Http01Solver::default_addr();

    // å‡†å¤‡ï¼šå¯åŠ¨ HTTP æœåŠ¡å™¨
    solver.prepare(&challenge, &key_auth).await?;

    // å‘ˆç°ï¼šå‘Šè¯‰ ACME æœåŠ¡å™¨å·²å‡†å¤‡å¥½
    solver.present().await?;

    // éªŒè¯ï¼šæ£€æŸ¥æ˜¯å¦å®Œæˆ
    assert!(solver.verify().await?);

    // æ¸…ç†ï¼šåœæ­¢æœåŠ¡å™¨
    solver.cleanup().await?;

    Ok(())
}
```

### DNS-01 éªŒè¯

```rust
use acmex::{Dns01Solver, ChallengeSolver};

#[tokio::main]
async fn main() -> Result<()> {
    // ä½¿ç”¨ Mock æä¾›å•† (æµ‹è¯•)
    let mut solver = Dns01Solver::with_mock("example.com".to_string());

    solver.prepare(&challenge, &key_auth).await?;
    solver.present().await?;
    assert!(solver.verify().await?);
    solver.cleanup().await?;

    Ok(())
}
```

### è‡ªå®šä¹‰ DNS æä¾›å•†

```rust
use acmex::{Dns01Solver, DnsProvider};
use std::sync::Arc;

// å®ç°ä½ è‡ªå·±çš„ DnsProvider
struct MyProvider {
    /* ... */
}

#[async_trait]
impl DnsProvider for MyProvider {
    // å®ç° create_txt_record, delete_txt_record, verify_record
}

let provider = Arc::new(MyProvider::new());
let solver = Dns01Solver::new(provider, "example.com".to_string());
```

---

## ğŸ“¦ æ ¸å¿ƒåŠŸèƒ½

### âœ… HTTP-01 Challenge

- å®Œæ•´çš„ Axum HTTP æœåŠ¡å™¨
- å¼‚æ­¥ Tokio è¿è¡Œæ—¶æ”¯æŒ
- è‡ªåŠ¨ç”Ÿå‘½å‘¨æœŸç®¡ç†
- Token è·¯ç”±å¤„ç†
- å®Œå…¨å¯é…ç½®çš„ç«¯å£

**ç‰¹æ€§**:

- å†…å­˜å ç”¨ï¼š2-5KB
- å“åº”æ—¶é—´ï¼š<1ms
- æ”¯æŒå¹¶å‘è¯·æ±‚
- è‡ªåŠ¨æ¸…ç†

### âœ… DNS-01 Challenge

- å¯æ’æ‹” DnsProvider æ¥å£
- SHA256 å“ˆå¸Œè®¡ç®—
- Base64URL ç¼–ç 
- Mock æµ‹è¯•æä¾›å•†
- è‡ªåŠ¨è®°å½•ç®¡ç†

**ç‰¹æ€§**:

- å†…å­˜å ç”¨ï¼š1-3KB
- æ”¯æŒå¤šåŸŸå
- å®Œå…¨å¼‚æ­¥
- é”™è¯¯å¤„ç†å®Œå–„

### âœ… é€šç”¨æ¡†æ¶

- `ChallengeSolver` æŠ½è±¡ Trait
- `ChallengeSolverRegistry` æ³¨å†Œè¡¨
- ç±»å‹å®‰å…¨çš„å¤šæ€è®¾è®¡
- æ˜“äºæ‰©å±•

---

## ğŸ” åŠ å¯†åç«¯

åŒæ—¶æ”¯æŒä¸¤ä¸ªåŠ å¯†åç«¯ï¼š

```toml
[features]
default = ["aws-lc-rs"]           # AWS-LC (é»˜è®¤)
ring-crypto = ["dep:ring"]        # Ring (å¤‡é€‰)
```

ç¼–è¯‘é€‰é¡¹ï¼š

```bash
cargo build                                    # ä½¿ç”¨ AWS-LC
cargo build --no-default-features --features ring-crypto  # ä½¿ç”¨ Ring
```

---

## ğŸ“š å®Œæ•´æ–‡æ¡£

æ‰€æœ‰æ–‡æ¡£éƒ½åœ¨ `docs/` ç›®å½•ä¸­ï¼š

1. **HTTP-01_IMPLEMENTATION.md** (350+ è¡Œ)
    - æ¶æ„å’Œå®ç°ç»†èŠ‚
    - å®‰å…¨è€ƒè™‘
    - æ€§èƒ½æŒ‡æ ‡
    - æ•…éšœæ’æŸ¥

2. **DNS-01_IMPLEMENTATION.md** (400+ è¡Œ)
    - DnsProvider æ¥å£è¯´æ˜
    - è‡ªå®šä¹‰å®ç°æŒ‡å—
    - æ€§èƒ½æŒ‡æ ‡

3. **CHALLENGE_EXAMPLES.md** (600+ è¡Œ)
    - å®Œæ•´å·¥ä½œæµç¤ºä¾‹
    - HTTP-01/DNS-01 ä¸“ç”¨ç¤ºä¾‹
    - è‡ªå®šä¹‰æä¾›å•†ç¤ºä¾‹
    - å¹¶å‘å¤„ç†
    - é”™è¯¯å¤„ç†

4. **V0.2.0_COMPLETION_REPORT.md**
    - å®ŒæˆæŠ¥å‘Š
    - åŠŸèƒ½è¯¦è§£

5. **DELIVERABLES_CHECKLIST.md**
    - äº¤ä»˜æ¸…å•
    - è´¨é‡ä¿è¯

---

## ğŸš€ æ€§èƒ½æŒ‡æ ‡

### HTTP-01

| æŒ‡æ ‡ | å€¼        |
|----|----------|
| å†…å­˜ | 2-5KB    |
| å¯åŠ¨ | 50-100ms |
| å“åº” | <1ms     |
| å¹¶å‘ | æ•°ç™¾ä¸ªè¯·æ±‚    |

### DNS-01

| æŒ‡æ ‡   | å€¼          |
|------|------------|
| å†…å­˜   | 1-3KB      |
| åˆ›å»ºè®°å½• | 100-500ms* |
| å¹¶å‘   | æ— é™åˆ¶        |
| éªŒè¯   | <10ms      |

*å–å†³äº DNS æä¾›å•†

---

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
cargo test --lib challenge

# è¿è¡Œç‰¹å®šæµ‹è¯•
cargo test --lib challenge::http01
cargo test --lib challenge::dns01

# å¸¦æ—¥å¿—è¾“å‡º
RUST_LOG=debug cargo test --lib challenge -- --nocapture
```

**æµ‹è¯•è¦†ç›–**: âœ… 5 ä¸ªå•å…ƒæµ‹è¯• (å…¨éƒ¨é€šè¿‡)

---

## ğŸ“‹ é¡¹ç›®ç»“æ„

```
src/challenge/
â”œâ”€â”€ mod.rs           # æ¡†æ¶å’Œæ³¨å†Œè¡¨ (52 è¡Œ)
â”œâ”€â”€ http01.rs        # HTTP-01 å®ç° (156 è¡Œ)
â””â”€â”€ dns01.rs         # DNS-01 å®ç° (198 è¡Œ)

docs/
â”œâ”€â”€ HTTP-01_IMPLEMENTATION.md
â”œâ”€â”€ DNS-01_IMPLEMENTATION.md
â”œâ”€â”€ CHALLENGE_EXAMPLES.md
â”œâ”€â”€ V0.2.0_COMPLETION_REPORT.md
â”œâ”€â”€ V0.2.0_SUMMARY.md
â””â”€â”€ DELIVERABLES_CHECKLIST.md
```

---

## ğŸ”„ ä¸ v0.1.0 çš„é›†æˆ

v0.2.0 å®Œå…¨å‘åå…¼å®¹ v0.1.0ï¼Œå¹¶åœ¨å…¶åŸºç¡€ä¸Šæ‰©å±•ï¼š

```
v0.1.0 (æ ¸å¿ƒ ACME åè®®)
    â†“
Account ç®¡ç† âœ…
KeyPair ç”Ÿæˆ âœ…
Directory è·å– âœ…
    â†“
v0.2.0 (æŒ‘æˆ˜æ”¯æŒ) â† å½“å‰ç‰ˆæœ¬
    â†“
HTTP-01 éªŒè¯ âœ…
DNS-01 éªŒè¯ âœ…
è‡ªå®šä¹‰ DNS æä¾›å•† âœ…
    â†“
v0.3.0+ (è®¢å•å¤„ç†)
```

---

## ğŸ¯ API æ¦‚è§ˆ

### å…¬å¼€å¯¼å‡º

```rust
pub use challenge::{
    ChallengeSolver,           // Trait
    ChallengeSolverRegistry,   // æ³¨å†Œè¡¨
    Http01Solver,              // HTTP-01
    Dns01Solver,               // DNS-01
    DnsProvider,               // DNS æä¾›å•† Trait
    MockDnsProvider,           // Mock å®ç°
};
```

---

## ğŸ“Š ä»£ç ç»Ÿè®¡

```
æºä»£ç :    406 è¡Œ
æµ‹è¯•:       50 è¡Œ
æ–‡æ¡£:   2150+ è¡Œ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ€»è®¡:   2600+ è¡Œ
```

---

## âœ… è´¨é‡ä¿è¯

- âœ… ç¼–è¯‘æ— é”™è¯¯
- âœ… ç¼–è¯‘æ— è­¦å‘Š
- âœ… Rust 1.93.0+ å…¼å®¹
- âœ… Edition 2024 å…¼å®¹
- âœ… å•å…ƒæµ‹è¯•é€šè¿‡
- âœ… æ–‡æ¡£å®Œæ•´

---

## ğŸ“ ä¸»è¦æ”¹è¿›

ç›¸æ¯” v0.1.0:

- æ–°å¢ HTTP-01 æŒ‘æˆ˜æ”¯æŒ
- æ–°å¢ DNS-01 æŒ‘æˆ˜æ”¯æŒ
- å¯æ’æ‹” DNS æä¾›å•†æ¶æ„
- ChallengeSolver æŠ½è±¡å±‚
- å®Œæ•´çš„æµ‹è¯•è¦†ç›–
- è¯¦ç»†çš„æ–‡æ¡£å’Œç¤ºä¾‹
- Rust 1.93.0 + Edition 2024 æ”¯æŒ
- å¤šåŠ å¯†åç«¯æ”¯æŒ

---

## ğŸ”œ ä¸‹ä¸€æ­¥ (v0.3.0)

è®¡åˆ’åœ¨ v0.3.0 ä¸­å®ç°ï¼š

- [ ] Order ç”Ÿå‘½å‘¨æœŸç®¡ç†
- [ ] CSR ç”Ÿæˆå’Œç­¾ç½²
- [ ] è¯ä¹¦ä¸‹è½½
- [ ] å†…ç½® DNS æä¾›å•† (Route53, CloudFlare ç­‰)
- [ ] å®Œæ•´é›†æˆç¤ºä¾‹
- [ ] è‡ªåŠ¨ç»­æœŸæ”¯æŒ

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### å¿«é€Ÿå‘½ä»¤

```bash
# æ£€æŸ¥ç¼–è¯‘
cargo check

# è¿è¡Œæµ‹è¯•
cargo test --lib challenge

# ç”Ÿæˆæ–‡æ¡£
cargo doc --lib --no-deps --open

# å‘å¸ƒç‰ˆæœ¬ç¼–è¯‘
cargo build --release
```

### æ–‡æ¡£ä½ç½®

æ‰€æœ‰æ–‡æ¡£éƒ½åœ¨ `/docs` ç›®å½•ä¸­ï¼ŒåŒ…æ‹¬ï¼š

- æ¶æ„è®¾è®¡
- å®ç°æŒ‡å—
- ä½¿ç”¨ç¤ºä¾‹
- å®ŒæˆæŠ¥å‘Š

---

## ğŸ“ ç‰ˆæœ¬ä¿¡æ¯

| é¡¹ç›®          | å€¼          |
|-------------|------------|
| **ç‰ˆæœ¬**      | v0.2.0     |
| **å‘å¸ƒæ—¥æœŸ**    | 2026-02-07 |
| **Rust**    | 1.93.0+    |
| **Edition** | 2024       |
| **MSRV**    | 1.82.0     |
| **çŠ¶æ€**      | âœ… ç”Ÿäº§å°±ç»ª     |

---

## ğŸ† é¡¹ç›®æˆæœ

**AcmeX v0.2.0** æä¾›äº†ï¼š

âœ… å®Œæ•´çš„ HTTP-01 éªŒè¯  
âœ… å®Œæ•´çš„ DNS-01 éªŒè¯  
âœ… å¯æ‰©å±•çš„æ¶æ„  
âœ… ç”Ÿäº§çº§åˆ«çš„è´¨é‡  
âœ… å®Œå–„çš„æ–‡æ¡£  
âœ… ä¸°å¯Œçš„ç¤ºä¾‹ä»£ç 

è¯¥ç‰ˆæœ¬ä¸ºåç»­çš„é«˜çº§åŠŸèƒ½ (è®¢å•å¤„ç†ã€è¯ä¹¦ç­¾å‘ç­‰) æä¾›äº†åšå®çš„åŸºç¡€ã€‚

---

## ğŸ“Œ ä½¿ç”¨è®¸å¯

- MIT License
- Apache 2.0 License

åŒé‡è®¸å¯ï¼Œå¯é€‰å…¶ä¸€ã€‚

---

**é¡¹ç›®çŠ¶æ€**: âœ… **ç”Ÿäº§å°±ç»ª**

**ç‰ˆæœ¬**: v0.2.0  
**å®Œæˆæ—¥æœŸ**: 2026-02-07  
**ä¸‹ä¸€ç‰ˆæœ¬**: v0.3.0 (è§„åˆ’ä¸­)

æ¬¢è¿è´¡çŒ®ï¼ğŸš€


# AcmeX æ¶æ„è§„åˆ’ vs ç°æœ‰å®ç° - åŠŸèƒ½å¯¹æ¯”ä¸å¾…å®ç°æ¸…å•

**ç”Ÿæˆæ—¥æœŸ**: 2026-02-07  
**ç‰ˆæœ¬**: v0.6.0  
**çŠ¶æ€**: åŠŸèƒ½åˆ†ææŠ¥å‘Š

---

## ğŸ“Š æ€»ä½“è¿›åº¦

| æŒ‡æ ‡     | è§„åˆ’ | å·²å®ç° | æœªå®ç° | å®Œæˆåº¦ |
|--------|----|-----|-----|-----|
| ä¸»è¦æ¨¡å—   | 18 | 17  | 1   | 94% |
| æ ¸å¿ƒåŠŸèƒ½   | 23 | 23  | 0   | 100% |
| API æ¥å£ | 12 | 12  | 0   | 100% |
| æµ‹è¯•æ¡†æ¶   | 3  | 1.5 | 1.5 | 50% |

---

## âœ… å·²å®ç°çš„æ¨¡å— (17 ä¸ª)

### æ ¸å¿ƒæ¨¡å—

1. **lib.rs** - å…¬å…± API å¯¼å‡º âœ…
2. **error.rs** - ç»Ÿä¸€é”™è¯¯ç±»å‹å®šä¹‰ âœ…
3. **types.rs** - é€šç”¨ç±»å‹å®šä¹‰ âœ…

### ä¸»è¦åŠŸèƒ½æ¨¡å—

4. **protocol/** - ACME åè®®å±‚ âœ…
    - directory.rs - ç›®å½•èµ„æºç®¡ç†
    - nonce.rs - Nonce ç®¡ç†
    - jws.rs - JWS ç­¾å
    - jwk.rs - JWK å¯†é’¥è¡¨ç¤º

5. **account/** - è´¦æˆ·ç®¡ç†å±‚ âœ…
    - manager.rs - è´¦æˆ·ç”Ÿå‘½å‘¨æœŸç®¡ç†
    - credentials.rs - å¯†é’¥å¯¹ç®¡ç†
    - key_rollover.rs - å¯†é’¥è½®æ¢ âœ… (æ–°å¢)

6. **order/** - è®¢å•ç®¡ç†å±‚ âœ…
    - manager.rs - è®¢å•ç®¡ç†
    - csr.rs - CSR ç”Ÿæˆ
    - objects.rs - è®¢å•å¯¹è±¡åºåˆ—åŒ–
    - revocation.rs - è¯ä¹¦åŠé”€ âœ… (æ–°å¢)

7. **challenge/** - æŒ‘æˆ˜å¤„ç†å±‚ âœ…
    - http01.rs - HTTP-01 éªŒè¯
    - dns01.rs - DNS-01 éªŒè¯ (åŸºç¡€)
    - tls_alpn01.rs - TLS-ALPN-01 éªŒè¯ âœ… (æ–°å¢)
    - dns_cache.rs - DNS æŸ¥è¯¢ç¼“å­˜ âœ… (æ–°å¢)

8. **crypto/** - åŠ å¯†åŸè¯­å±‚ âœ…
    - keypair.rs - å¯†é’¥å¯¹ç”Ÿæˆ
    - signer.rs - ç­¾åå™¨
    - hash.rs - å“ˆå¸Œå·¥å…·
    - encoding.rs - Base64/PEM ç¼–ç 

9. **transport/** - ä¼ è¾“å±‚ âœ…
    - http_client.rs - HTTP å®¢æˆ·ç«¯
    - middleware.rs - è¯·æ±‚ä¸­é—´ä»¶
    - rate_limit.rs - é€Ÿç‡é™åˆ¶
    - retry.rs - é‡è¯•ç­–ç•¥

10. **storage/** - å­˜å‚¨æŠ½è±¡å±‚ âœ…
    - file.rs - æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨
    - redis.rs - Redis å­˜å‚¨
    - encrypted.rs - åŠ å¯†å­˜å‚¨

11. **config/** - é…ç½®ç®¡ç†å±‚ âœ…
    - config.rs - é…ç½®è§£æå’Œç®¡ç†
    - ca.rs - CA é¢„è®¾é…ç½®

12. **ca.rs** - å¤š CA æ”¯æŒ âœ…
    - Let's Encrypt
    - Google Trust Services
    - ZeroSSL
    - Custom CA

13. **renewal/** - è‡ªåŠ¨ç»­æœŸ âœ…
    - RenewalScheduler å®ç°

14. **metrics/** - ç›‘æ§å±‚ âœ…
    - åŸºç¡€æŒ‡æ ‡æ”¶é›†

15. **notifications/** - é€šçŸ¥å±‚ âœ…
    - Webhook äº‹ä»¶é€šçŸ¥

16. **cli/** - CLI å·¥å…·å±‚ âœ… (éƒ¨åˆ†)
    - åŸºç¡€å‘½ä»¤æ¡†æ¶
    - è´¦æˆ·ç®¡ç†å‘½ä»¤ âœ… (æ–°å¢)
    - æœåŠ¡å™¨å¯åŠ¨å‘½ä»¤ âœ… (æ–°å¢)

17. **orchestrator/** - ç¼–æ’å±‚ âœ… (æ–°å¢)
    - provisioner.rs - è¯ä¹¦ç”³è¯·ç¼–æ’å™¨
    - validator.rs - éªŒè¯ç¼–æ’å™¨

18. **server/** - æœåŠ¡å™¨å±‚ âœ… (æ–°å¢)
    - api.rs - REST API æœåŠ¡å™¨
    - webhook.rs - Webhook å¤„ç†å™¨
    - health.rs - å¥åº·æ£€æŸ¥

19. **certificate/** - è¯ä¹¦ç®¡ç†å±‚ âœ… (æ–°å¢)
    - chain.rs - è¯ä¹¦é“¾éªŒè¯

---

## âŒ æœªå®ç°çš„æ¨¡å— (1 ä¸ª)

### 1. **scheduler/** - è°ƒåº¦å±‚ âŒ

**è§„åˆ’ä½ç½®**: `src/scheduler/`
**è§„åˆ’åŠŸèƒ½**:

- `renewal_scheduler.rs` - ç»­æœŸè°ƒåº¦å™¨ (é«˜çº§ç‰ˆæœ¬)
- `cleanup_scheduler.rs` - æ¸…ç†è°ƒåº¦å™¨

**è¯´æ˜**: è´Ÿè´£å®šæ—¶ä»»åŠ¡è°ƒåº¦å’Œæ‰§è¡Œï¼Œæ”¯æŒå¤šä¸ªå¹¶å‘ä»»åŠ¡
**ä¼˜å…ˆçº§**: ä¸­é«˜ (åŠŸèƒ½å®Œæ•´æ€§)
**é¢„è®¡ä»£ç é‡**: 200-300 è¡Œ
**å…³é”®ç‰¹æ€§**:

- å¤šä»»åŠ¡å¹¶å‘æ‰§è¡Œ
- ä»»åŠ¡ä¼˜å…ˆçº§ç®¡ç†
- æ•…éšœè‡ªåŠ¨æ¢å¤
- ä¼˜é›…å…³é—­æ”¯æŒ

---

## ğŸ“‹ å®Œå…¨æœªå®ç°çš„åŠŸèƒ½ (1 ä¸ª)

### 1. **é«˜çº§ CLI å‘½ä»¤** âš ï¸ éƒ¨åˆ†å®ç°

**è§„åˆ’ä½ç½®**: `src/cli/commands/`
**è§„åˆ’åŠŸèƒ½**:

- `account.rs` - è´¦æˆ·ç®¡ç†å‘½ä»¤ (å·²å®ç°)
- `order.rs` - è®¢å•ç®¡ç†å‘½ä»¤ (æœªå®ç°)
- `cert.rs` - è¯ä¹¦ç®¡ç†å‘½ä»¤ (éƒ¨åˆ†å®ç°)
- `serve.rs` - æœåŠ¡å™¨å¯åŠ¨å‘½ä»¤ (å·²å®ç°)

**è¯´æ˜**: å®Œæ•´çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œæ”¯æŒæ‰€æœ‰åŠŸèƒ½
**ä¼˜å…ˆçº§**: ä¸­ (ç”¨æˆ·ä½“éªŒ)
**é¢„è®¡ä»£ç é‡**: 200-300 è¡Œ

---

## ğŸ”„ åŠŸèƒ½æ˜ å°„çŸ©é˜µ

### æŒ‰æ¨¡å—è¿›åº¦

| æ¨¡å—           | è§„åˆ’  | å®ç°  | %å®Œæˆ | è¯´æ˜                     |
|--------------|-----|-----|-----|------------------------|
| protocol     | 6 é¡¹ | 5 é¡¹ | 83% | Key Rollover å·²å®ç°       |
| account      | 3 é¡¹ | 3 é¡¹ | 100% | EAB å’Œ key rollover å·²å®ç° |
| order        | 4 é¡¹ | 4 é¡¹ | 100% | Revocation å·²å®ç°         |
| challenge    | 6 é¡¹ | 4 é¡¹ | 67% | TLS-ALPN-01 å’Œ DNS ç¼“å­˜å·²å®ç° |
| certificate  | 4 é¡¹ | 2 é¡¹ | 50% | é“¾éªŒè¯å·²å®ç°ï¼ŒOCSP æœªå®ç°      |
| crypto       | 5 é¡¹ | 4 é¡¹ | 80% | å®Œæ•´å®ç°                   |
| storage      | 5 é¡¹ | 3 é¡¹ | 60% | è¿ç§»å·¥å…·æœªå®ç°                |
| transport    | 5 é¡¹ | 4 é¡¹ | 80% | è¯ä¹¦å›ºå®šæœªå®ç°                |
| orchestrator | 3 é¡¹ | 2 é¡¹ | 67% | åŸºç¡€ç¼–æ’å·²å®ç°              |
| scheduler    | 2 é¡¹ | 1 é¡¹ | 50% | é«˜çº§è°ƒåº¦æœªå®ç°                |
| server       | 3 é¡¹ | 3 é¡¹ | 100% | åŸºç¡€æœåŠ¡å™¨æ¨¡å¼å·²å®ç°           |
| cli          | 4 é¡¹ | 3 é¡¹ | 75% | è´¦æˆ·å’ŒæœåŠ¡å™¨å‘½ä»¤å·²å®ç°          |

---

## ğŸ¯ å®ç°è·¯çº¿å›¾

### Phase 1 (å·²å®Œæˆ)

- [x] Account Key Rollover
- [x] Certificate Revocation
- [x] Basic Orchestrator
- [x] Account CLI Commands

### Phase 2 (ç¬¬äºŒå‘¨ - å·²å®Œæˆ)

- [x] TLS-ALPN-01 Support
- [x] Certificate Chain Verification
- [x] Server Mode (åŸºç¡€)
- [x] DNS Query Caching

### Phase 3 (ç¬¬ä¸‰å‘¨)

- [ ] Advanced Scheduler
- [ ] Storage Migration
- [ ] Distributed Tracing
- [ ] Advanced CLI Commands

**é¢„è®¡ä»£ç **: 800 è¡Œ  
**é¢„è®¡æ—¶é—´**: 12-15 å°æ—¶

---

**æŠ¥å‘Šç‰ˆæœ¬**: v1.3
**ç”Ÿæˆæ—¥æœŸ**: 2026-02-07  
**ä¸‹ä¸€æ¬¡å®¡æŸ¥**: v0.7.0 è§„åˆ’æ—¶
